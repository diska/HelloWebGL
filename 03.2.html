<h1>uniform variable</h1>
<canvas id="CNVS" width="256px" height="256px"></canvas><hr/>
<input id="SLID" type="range"></input></br>
<textarea id="AREA" cols="40" rows="10"></textarea>
<style>textarea{background-color: bisque;}</style>
<script>
const vsrc=`attribute vec4 p;uniform vec4 m;
void main(){gl_PointSize=32.;gl_Position=p;gl_Position.xy=m.xy;}`;
const fsrc=`void main(){gl_FragColor=vec4(1);gl_FragColor.gb=gl_PointCoord;}`;
var cx0=CNVS.getContext("webgl");
var vs0=cx0.createShader(cx0.VERTEX_SHADER);	setSh(cx0, vs0, vsrc);
var fs0=cx0.createShader(cx0.FRAGMENT_SHADER);	setSh(cx0, fs0, fsrc);
var pg0=cx0.createProgram();	setPg(cx0, pg0, vs0, fs0);
AREA.value=getLogInfo(cx0, vs0, fs0, pg0);
var mLoc=cx0.getUniformLocation(pg0, "m");
//
cx0.useProgram(pg0);
function draw(){
	var t=SLID.value/100;	c=Math.cos(t*3);s=Math.sin(t*3);
	cx0.uniform4f(mLoc, t, 0,0,1);
	cx0.clearColor(0,0.3,0,1);	cx0.clear(0x4000);
	cx0.drawArrays(0, 0,1);
}
SLID.addEventListener("input", draw);	draw();
//
function setSh(cx, sh, src){
	cx.shaderSource(sh, src);
	cx.compileShader(sh);
}
function setPg(cx, pg, vs, fs){
	cx.attachShader(pg, vs);
	cx.attachShader(pg, fs);
	cx.linkProgram(pg);
}
function getLogInfo(cx, vs, fs, pg){
	var str="";
	str+=`Compile log for VS ${vs}:\n${cx.getShaderInfoLog(vs)}\n`;
	str+=`Compile log for FS ${fs}:\n${cx.getShaderInfoLog(fs)}\n`;
	str+=`Link log for PG ${pg}:\n${cx.getProgramInfoLog(pg)}\n`;
	return str;
}
</script>