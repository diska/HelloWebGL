<h1>draw"Array"s/Array Buffer/Vertex Attribute</h1>
<canvas id="CNVS" width="256" height="256"></canvas><hr/>
mode<input id="MODE" type="range" max="6" value="4"></input>
<input id="TEXT" ></input></br>
<textarea id="AREA" cols="40" rows="10"></textarea>
<style>textarea{background-color: bisque;}</style>
<script>
const vsrc=`attribute vec4 p;void main(){gl_PointSize=32.;gl_Position=p;}`;
const fsrc=`void main(){gl_FragColor=vec4(1);}`;
var cx0=CNVS.getContext("webgl");
//
var vs0=cx0.createShader(cx0.VERTEX_SHADER);	setupSh(cx0, vs0, vsrc);
var fs0=cx0.createShader(cx0.FRAGMENT_SHADER);	setupSh(cx0, fs0, fsrc);
var pg0=cx0.createProgram();	setupPg(cx0, pg0, vs0, fs0);
AREA.value=getLogInfo(cx0, vs0, fs0, pg0);
//
var bf0=cx0.createBuffer();		setupBf(cx0, attr=0, bf0, size=2);
//
var dt0=new Float32Array([-1,0, 0,1, 1,0, 0,-1]);
fillBf(cx0, bf0, dt0);
//
cx0.useProgram(pg0);
const mode=["POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN"];
function draw(){
	TEXT.value=mode[MODE.value];
	cx0.clearColor(0,0.3,0,1);	cx0.clear(0x4000);
	cx0.drawArrays(cx0.POINTS+MODE.value, 0,dt0.length/2);
};	draw();
MODE.addEventListener("input", draw);
//
function setupSh(cx, sh, src){
	cx.shaderSource(sh, src);
	cx.compileShader(sh);
}
function setupPg(cx, pg, vs, fs){
	cx.attachShader(pg, vs);
	cx.attachShader(pg, fs);
	cx.linkProgram(pg);
}
function getLogInfo(cx, vs, fs, pg){
	var str="";
	str+=`Compile log for VS ${vs}:\n${cx.getShaderInfoLog(vs)}\n`;
	str+=`Compile log for FS ${fs}:\n${cx.getShaderInfoLog(fs)}\n`;
	str+=`Link log for PG ${pg}:\n${cx.getProgramInfoLog(pg)}\n`;
	return str;
}
function fillBf(cx, buf, data, offset=0){
	cx.bindBuffer(cx.ARRAY_BUFFER, buf);
	cx.bufferSubData(cx.ARRAY_BUFFER, offset, data);
	cx.bindBuffer(cx.ARRAY_BUFFER, null);
}
function setupBf(cx, attr, buf, size=3, type=cx0.FLOAT, normalized=false, stride=0, offset=0){
	cx.bindBuffer(cx.ARRAY_BUFFER, buf);
	cx.enableVertexAttribArray(attr);
	cx.vertexAttribPointer(attr, size, type, normalized, stride, offset);
	cx.bufferData(cx.ARRAY_BUFFER, 256, cx.STATIC_DRAW);
	cx.bindBuffer(cx.ARRAY_BUFFER, null);
}
</script>